webpackJsonp([1],{"2bSF":function(t,e){},"7zck":function(t,e){},Gnc4:function(t,e){},NHnr:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("7+uW"),i={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("v-app",[e("router-view")],1)],1)},staticRenderFns:[]};var r=a("VU/8")({name:"App"},i,!1,function(t){a("Gnc4")},null,null).exports,s=a("/ocq"),o=a("mtWM"),l=a.n(o).a.create({baseURL:Object({NODE_ENV:"production"}).BASE_URL}),c={name:"sign-in",data:function(){return{e1:!0,name:"",password:""}},methods:{submit:function(){var t=this;this.$refs.form.validate()&&l.post("/api/auth/login",{name:this.name,password:this.password}).then(function(e){200===e.status&&t.$router.push("/profile")})},clear:function(){this.$refs.form.reset()}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-5"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("p",{staticClass:"title"},[t._v("Вход")]),t._v(" "),a("v-text-field",{attrs:{label:"Имя пользователя"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-text-field",{attrs:{min:"8","append-icon-cb":function(){return t.e1=!t.e1},type:t.e1?"password":"text",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("v-btn",{on:{click:t.submit}},[t._v("\n      Отправить\n    ")])],1)],1)},staticRenderFns:[]};var u=a("VU/8")(c,p,!1,function(t){a("T9YX")},"data-v-eb49be6e",null).exports,d=a("Gu7T"),v=a.n(d),m=a("Xxa5"),f=a.n(m),g=a("exGp"),h=a.n(g),b={name:"input-file",model:{prop:"value",event:"change"},props:{label:{type:String,default:""},value:{default:null},extensions:{type:Array,default:function(){return[]}},disabled:{type:Boolean,default:!1},errorMessages:{type:Array,default:function(){return[]}},multiple:{type:Boolean,default:!1},readOnly:{type:Boolean,default:!1},required:{type:Boolean,default:!1}},data:function(){return{items:[],dialog:!1,data:null,type:null,selected_:null,errorList:[],loading:!1}},computed:{selected:{get:function(){return this.selected_},set:function(t){this.data&&URL.revokeObjectURL(this.data),t?(this.data=URL.createObjectURL(t.file||t.blob),this.type=t.type,this.dialog=!0):(this.dialog=!1,this.type=null,this.data=null),this.selected_=t}},errors:function(){return this.errorList.concat(this.errorMessages)}},beforeDestroy:function(){this.selected=null},mounted:function(){var t=this;this.multiple?this.getFilesByIds(this.value).then(function(e){t.items=e}):this.getFilesByIds(this.value?[this.value]:[]).then(function(e){t.items=e})},methods:{clicked:function(){this.readOnly||this.$refs.input.click()},changed:function(t){var e=this;return h()(f.a.mark(function a(){var n,i,r,s,o,c,p,u,d;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.errorList=[],n=e.extensions,i=!1,r=0;case 4:if(!(r<t.length)){a.next=39;break}s=t[r],o=!1,a.t0=f.a.keys(n);case 8:if((a.t1=a.t0()).done){a.next=16;break}if(c=a.t1.value,n[c].trim()!=="."+s.name.split(".").pop().toLowerCase()){a.next=14;break}return o=!0,a.abrupt("break",16);case 14:a.next=8;break;case 16:o||e.errorList.push("Расширение файла должно быть "+e.extensions.join(", ")),a.t2=f.a.keys(e.items);case 18:if((a.t3=a.t2()).done){a.next=26;break}if(p=a.t3.value,e.items[p].name!==s.name){a.next=24;break}return o=!1,a.abrupt("break",26);case 24:a.next=18;break;case 26:if(s.size>=20971520&&(e.errorList.push("Файл не должен быть больше 20 мегабайт"),o=!1),e.multiple||0===e.items.length||(e.errorList.push("В данном поле не может быть больше одного файла"),o=!1),!o){a.next=36;break}return(u=new FormData).append("file",s,s.name),a.next=33,l.post("/api/files",u);case 33:d=a.sent,e.items.push({id:d.data.id,name:s.name,type:s.type,size:s.size,file:s}),i=!0;case 36:r++,a.next=4;break;case 39:e.$refs.input.value="",i&&e.update();case 41:case"end":return a.stop()}},a,e)}))()},remove:function(t){this.items.splice(t,1),this.update()},update:function(){if(this.multiple)this.$emit("change",this.items.map(function(t){return t.id}));else{var t=1===this.items.length?this.items[0].id:null;this.$emit("change",t)}},preview:function(t){(t.file||t.blob)&&(this.selected=t)},getFilesByIds:function(t){var e=this;return h()(f.a.mark(function a(){var n,i,r,s,o;return f.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:e.loading=!0,n=[],a.t0=f.a.keys(t);case 3:if((a.t1=a.t0()).done){a.next=13;break}return i=a.t1.value,r=t[i],a.next=8,e.axios.get("/api/files/"+r,{responseType:"arraybuffer"});case 8:s=a.sent,o=new File([s.data],String(s.headers["content-disposition"]).slice(21),{type:s.headers["content-type"]}),n.push({id:r,name:o.name,type:o.type,size:o.size,file:o}),a.next=3;break;case 13:return e.loading=!1,a.abrupt("return",n);case 15:case"end":return a.stop()}},a,e)}))()},downloadFile:function(t,e){var a=document.createElement("a");a.href=t,a.setAttribute("download",e),document.body.appendChild(a),a.click()}}},_={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"select-file"},[a("input",{ref:"input",attrs:{type:"file",multiple:"",accept:t.extensions.join(","),disabled:t.disabled},on:{change:function(e){t.changed(e.target.files)}}}),t._v(" "),a("v-card",[a("v-container",[a("v-select",{attrs:{loading:t.loading,"append-icon":t.readOnly?"":"file_upload",readonly:"","item-text":"name","item-value":"name","return-object":"",multiple:"","multi-line":"","error-messages":t.errors,disabled:t.disabled,label:t.label,items:t.items,required:t.required,"append-icon-cb":t.clicked},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{key:e.item.name,staticClass:"chip--select-multi",attrs:{close:!t.readOnly,selected:e.selected},on:{input:function(a){t.remove(e.index)},click:function(a){t.preview(e.item)}}},[t._v(t._s(e.item.name.slice(0,45)))])]}}]),model:{value:t.items,callback:function(e){t.items=e},expression:"items"}})],1)],1),t._v(" "),a("v-dialog",{attrs:{transition:"dialog-bottom-transition",width:"1000px",scrollable:""},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-toolbar-title",[t._v(t._s(t.label))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.downloadFile(t.data,t.selected.name)}}},[a("v-icon",[t._v("file_download")])],1),t._v(" "),a("v-btn",{attrs:{icon:"",dark:""},on:{click:function(e){t.selected=null}}},[a("v-icon",[t._v("close")])],1)],1),t._v(" "),null!==t.data&&null!==t.type?["image/"===t.type.substring(0,6)?a("v-card-text",[a("img",{key:t.data,attrs:{src:t.data,width:"100%"}})]):a("v-card-text",[a("v-alert",{attrs:{type:"error",value:!0}},[t._v('Предпросмотр "'+t._s(t.type)+'" не поддерживается.\n          ')])],1)]:t._e()],2)],1)],1)},staticRenderFns:[]};var x=a("VU/8")(b,_,!1,function(t){a("ptsC")},"data-v-3d4e52ca",null).exports,y={components:{InputFile:x},name:"signUp",data:function(){return{e1:!0,cities:[],company_name:"",name:"",password:"",company_label:""}},methods:{submit:function(){var t=this;this.$refs.form.validate()&&l.post("/api/auth/register",{name:this.name,company_name:this.company_name,company_label:this.company_label,cities:this.cities,password:this.password}).then(function(e){t.$localStorage.set("token",e.data),t.$router.push("/profile")})},clear:function(){this.$refs.form.reset()},remove:function(t){this.chips.splice(this.chips.indexOf(t),1),this.chips=[].concat(v()(this.chips))}}},w={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-5"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("p",{staticClass:"title"},[t._v("Регистрация")]),t._v(" "),a("v-text-field",{attrs:{label:"Имя пользователя"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-text-field",{attrs:{label:"Название организации"},model:{value:t.company_name,callback:function(e){t.company_name=e},expression:"company_name"}}),t._v(" "),a("input-file",{attrs:{extensions:[".png"],label:"Логотип компании"},model:{value:t.company_label,callback:function(e){t.company_label=e},expression:"company_label"}}),t._v(" "),a("v-select",{staticClass:"mt-3",attrs:{label:"Города, в которых происходит продажа",chips:"",tags:"",solo:"","append-icon":"",clearable:""},scopedSlots:t._u([{key:"selection",fn:function(e){return[a("v-chip",{attrs:{close:"",selected:e.selected},on:{input:function(a){t.remove(e.item)}}},[a("strong",[t._v(t._s(e.item))]),t._v(" \n        ")])]}}]),model:{value:t.cities,callback:function(e){t.cities=e},expression:"cities"}}),t._v(" "),a("v-text-field",{attrs:{min:"8","append-icon-cb":function(){return t.e1=!t.e1},type:t.e1?"password":"text",label:"Пароль"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),t._v(" "),a("v-btn",{on:{click:t.submit}},[t._v("\n      Отправить\n    ")])],1)],1)},staticRenderFns:[]};var k=a("VU/8")(y,w,!1,function(t){a("2bSF")},"data-v-37cc8a30",null).exports,C={name:"home",components:{SignIn:u,SignUp:k},data:function(){return{loginDialog:"",registerDialog:""}}},j={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-layout",[a("v-flex",{attrs:{xs12:"",id:"bg"}},[a("div",{attrs:{id:"bg-gradient"}},[a("v-container",{attrs:{"fill-height":"",id:"grid-container"}},[a("v-layout",{staticClass:"center"},[a("v-flex",{staticClass:"text-xs-right",attrs:{xs3:"","offset-xs1":""}},[a("img",{staticClass:"text-xs-right mt-3 mb-5 pb-4",attrs:{src:"/static/TwoChairsLogo.png",alt:""}}),t._v(" "),a("p",{staticClass:"plain-text transparent mb-5"},[t._v("#bonch #hackathon"),a("br"),t._v(" #spbgti #ar")]),t._v(" "),a("img",{attrs:{src:"/static/bonch_logo.png",alt:""}}),t._v(" "),a("img",{staticClass:"ml-5",attrs:{src:"/static/spbgti_logo.png",alt:""}})]),t._v(" "),a("v-flex",{attrs:{xs2:""}},[a("div",{staticClass:"line-in-middle"})]),t._v(" "),a("v-flex",{attrs:{xs5:""}},[a("p",{staticClass:"plain-text mt-3 mb-5 text-xs-left"},[t._v("Лучший инструмент для проектирования\n              интерьера в реальном времени\n            ")]),t._v(" "),a("p",{staticClass:"plain-text mb-5 text-xs-left"},[t._v("\n              Всё их оборудование и инструменты были живыми, в той или иной форме\n            ")]),t._v(" "),a("div",{staticClass:"text-xs-left"},[a("v-dialog",{attrs:{attach:"#app","max-width":"500px"},model:{value:t.registerDialog,callback:function(e){t.registerDialog=e},expression:"registerDialog"}},[a("v-btn",{staticClass:"primary-btn white pink--text",attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  Sign Up\n                ")]),t._v(" "),a("SignUp")],1),t._v(" "),a("v-dialog",{attrs:{attach:"#app","max-width":"500px"},model:{value:t.loginDialog,callback:function(e){t.loginDialog=e},expression:"loginDialog"}},[a("v-btn",{staticClass:"primary-btn transparent white--text",attrs:{slot:"activator"},slot:"activator"},[t._v("\n                  Sign In\n                ")]),t._v(" "),a("SignIn")],1)],1)])],1)],1)],1)])],1)},staticRenderFns:[]};var S=a("VU/8")(C,j,!1,function(t){a("lQcR")},"data-v-e82c68ae",null).exports,D={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",[a("v-toolbar",{attrs:{dark:"",color:"primary"}},[a("v-btn",{attrs:{icon:"",dark:""},nativeOn:{click:function(e){t.$emit("input",!1)}}},[a("v-icon",[t._v("close")])],1),t._v(" "),a("v-toolbar-title",[t._v(t._s(t.category))]),t._v(" "),a("v-spacer"),t._v(" "),a("v-toolbar-items",[a("v-btn",{attrs:{dark:"",flat:""},nativeOn:{click:function(e){t.$emit("input",!1)}}},[t._v("Save")])],1)],1),t._v(" "),a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.items,function(e){return a("v-flex",{key:e.name,staticClass:"pt-1 pr-1 elevation-10",attrs:{xs3:""}},[a("v-card",[a("v-card-media",{attrs:{src:e.preview_url,height:"400"}}),t._v(" "),a("v-card-actions",[a("v-btn",{staticStyle:{"font-family":"'Open Sans', sans-serif","font-weight":"bold"},attrs:{flat:"",block:"",large:"",color:"blue"},on:{click:function(e){t.dialog=!0,t.currentCategory=t.category.category}}},[t._v("\n            Удалить ("+t._s(e.name)+")\n          ")])],1)],1)],1)}))],1)},staticRenderFns:[]};var $={name:"upload-dialog",components:{InputFile:x},data:function(){return{category:"",model:"",preview:"",name:"",price:""}},methods:{submit:function(){l.post("/api/furniture",{category:this.category,model:this.model,preview:this.preview,name:this.name,price:this.price,token:this.$localStorage.get("token")})}}},U={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("v-card",{staticClass:"pa-5"},[a("v-form",{ref:"form",attrs:{"lazy-validation":""}},[a("p",{staticClass:"title"},[t._v("Загрузка")]),t._v(" "),a("v-text-field",{attrs:{label:"Категория"},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),t._v(" "),a("v-text-field",{attrs:{label:"Категория"},model:{value:t.category,callback:function(e){t.category=e},expression:"category"}}),t._v(" "),a("v-text-field",{attrs:{label:"Цена"},model:{value:t.price,callback:function(e){t.price=e},expression:"price"}}),t._v(" "),a("input-file",{attrs:{extensions:[".png"],label:"Загрузите превью"},model:{value:t.preview,callback:function(e){t.preview=e},expression:"preview"}}),t._v(" "),a("input-file",{attrs:{extensions:[".png"],label:"Загрузите 3D модель"},model:{value:t.model,callback:function(e){t.model=e},expression:"model"}}),t._v(" "),a("v-btn",{nativeOn:{click:function(e){t.$emit("input",!1)}}},[t._v("\n      Отправить\n    ")])],1)],1)},staticRenderFns:[]};var F={name:"profile",components:{CategoryEdit:a("VU/8")({name:"category-edit",props:["category"],data:function(){return{items:[{preview_url:"http://www.fabrika-horeca.ru/images/mebel/belyi-stul-alban-1200x800-8661.jpg",name:"Alban"},{preview_url:"http://www.mebel-new.ru/upload/iblock/785/78543530e483a941df7d8e42fb0c6df8.jpg",name:"New-meb"},{preview_url:"http://static4.depositphotos.com/1001686/338/i/950/depositphotos_3381488-stock-photo-antique-chair.jpg",name:"Antique"},{preview_url:"http://branch.pricediscount.ru/60209-1-home_default/%D0%A1%D1%82%D1%83%D0%BB-%E2%80%9Capriori%E2%80%93s%E2%80%9D.jpg",name:"Caprioor"},{preview_url:"https://i3.63mebel.ru/1/4937/49367401/075a3e/stul-quot-vagner-t1-quot.jpg",name:"Vagner"},{preview_url:"http://ikea24.com/image/catalog/product/301.168.48_part_1.jpg",name:"Prod-ik"},{preview_url:"http://ofavorit.ru/media/img/alinda_1_1.jpg",name:"Lainfa"},{preview_url:"https://loft-concept.ru/upload/iblock/4fc/4fc3b4abc8de3626602e9f8ab9e74a44.jpg",name:"Iblock"},{preview_url:"http://nevaoffice.ru/files/goods/kf-1_orange26-29-1_45.jpg",name:"Goosdq"},{preview_url:"https://jquery.re/items/10/06/92/62/23/livepreview.jpg",name:"Hureb"},{preview_url:"https://majorfloor.ru/image/cache/data/DIK_mebel/1/006-1000x1000.jpg",name:"Jerto"},{preview_url:"http://new.fastshoptop.org/img/p/1/61692-home_default.jpg",name:"Def-ss"}]}}},D,!1,function(t){a("o8IX")},"data-v-b4b3806e",null).exports,UploadDialog:a("VU/8")($,U,!1,function(t){a("zhGf")},"data-v-596b648e",null).exports,InputFile:x},data:function(){return{categories:[{preview_url:"https://i.sofino.ua/files/mailings/21/modulnyi-divan-Sofino.jpg",name:"Диваны"},{preview_url:"https://images.ua.prom.st/807534956_w0_h0_to_12_venge.jpg",name:"Тумбы"},{preview_url:"http://ikea24.com/image/catalog/product/301.168.48_part_1.jpg",name:"Стулья"},{preview_url:"https://www.qpstol.ru/global_images/goods/182/14b/167/f24/1012211.jpg",name:"Столы"},{preview_url:"https://files.meb100.ru/products/b6b3da02d46f8aa706fa268887a6ecfd.jpg",name:"Шкафы"},{preview_url:"http://photoudom.ru/photo/f6/f6f2987a9c957a186d436667c83e0211.jpg",name:"Полки"},{preview_url:"http://ekb-mebel.ru/assets/images/products/dvuspalnaya-krovat-s-podemnym-mekhanizmom-naomi-sm-208-01-02-fon-seryy-dzhut.jpg",name:"Кровать"}],uploadDialog:!1,dialog:!1,currentCategory:""}},mounted:function(){var t=this;l.get("/api/categories",{params:{name:"a"}}).then(function(e){t.categories=e.data.categories})},computed:{}},E={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",[a("v-card",{staticClass:"elevation-10",staticStyle:{padding:"50px 0"},attrs:{id:"bg-top-gradient"}},[a("v-layout",{attrs:{row:"",wrap:""}},[a("v-flex",{attrs:{xs2:""}},[a("img",{attrs:{width:"80%",src:"/static/2chrs.png","pr-3":""}})]),t._v(" "),a("v-flex",{attrs:{xs8:"","pl-3":""}},[a("v-layout",{attrs:{row:""}},[a("h1",{staticClass:"pt-4 text-xs-left"},[t._v("2 chairs company")])]),t._v(" "),a("v-layout",[a("v-dialog",{attrs:{attach:"#app","max-width":"500px"},model:{value:t.uploadDialog,callback:function(e){t.uploadDialog=e},expression:"uploadDialog"}},[a("v-btn",{staticClass:"primary-btn",attrs:{slot:"activator","pt-5":""},slot:"activator"},[t._v("\n              Загрузка модели\n            ")]),t._v(" "),a("UploadDialog",{on:{input:function(e){t.uploadDialog=e}}})],1)],1)],1)],1)],1),t._v(" "),a("div",{attrs:{id:"bg-gradient"}},[a("v-container",{attrs:{id:"grid-container"}},[a("v-layout",{attrs:{row:"",wrap:""}},t._l(t.categories,function(e){return a("v-flex",{key:e.name,staticClass:"pt-1 pr-1 elevation-10",attrs:{xs4:""}},[a("v-card",[a("v-card-media",{attrs:{src:e.preview_url,height:"400"}}),t._v(" "),a("v-card-actions",[a("v-btn",{staticStyle:{"font-family":"'Open Sans', sans-serif","font-weight":"bold"},attrs:{flat:"",block:"",large:"",color:"blue"},on:{click:function(a){t.dialog=!0,t.currentCategory=e.category}}},[t._v("\n                "+t._s(e.name)+"\n              ")])],1)],1)],1)}))],1)],1),t._v(" "),a("v-dialog",{attrs:{attach:"app",fullscreen:"",transition:"dialog-bottom-transition",overlay:!1},model:{value:t.dialog,callback:function(e){t.dialog=e},expression:"dialog"}},[a("CategoryEdit",{attrs:{category:t.currentCategory},on:{input:function(e){t.dialog=e}}})],1)],1)},staticRenderFns:[]};var O=a("VU/8")(F,E,!1,function(t){a("WSj4")},"data-v-4084c33e",null).exports;n.a.use(s.a);var R=new s.a({mode:"history",routes:[{path:"/",name:"Home",component:S},{path:"/signup",name:"SignUp",component:k},{path:"/signin",name:"SignIn",component:u},{path:"/profile",name:"Profile",component:O}]}),L=a("3EgV"),z=a.n(L),I=(a("7zck"),a("UnSZ")),q=a.n(I);n.a.use(z.a),n.a.use(q.a),n.a.config.productionTip=!1,new n.a({el:"#app",router:R,localStorage:q.a,components:{App:r},template:"<App/>"})},T9YX:function(t,e){},WSj4:function(t,e){},lQcR:function(t,e){},o8IX:function(t,e){},ptsC:function(t,e){},zhGf:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.0a25ac42e8e92feb90e9.js.map